@import '@fontsource-variable/dm-sans';
@import '@fontsource-variable/space-grotesk';

@import 'tailwindcss';

/* =============================================================================
   TAILWIND V4 THEME CONFIGURATION
   ============================================================================= */

@theme {
  /* Neo-Memphis Dark Theme Colors */
  --color-dark-950: #050505;
  --color-dark-900: #0f0f0f;
  --color-dark-800: #141414;
  --color-dark-700: #1f1f1f;
  --color-dark-600: #2a2a2a;
  --color-dark-500: #3d3d3d;

  /* Primary: Purple/Violet */
  --color-primary-50: #faf5ff;
  --color-primary-100: #f3e8ff;
  --color-primary-200: #e9d5ff;
  --color-primary-300: #d8b4fe;
  --color-primary-400: #c387ff;
  --color-primary-500: #a855f7;
  --color-primary-600: #9333ea;
  --color-primary-700: #7c3aed;
  --color-primary-800: #6b21a8;
  --color-primary-900: #581c87;

  /* Accent: Yellow */
  --color-accent-50: #fefce8;
  --color-accent-100: #fef9c3;
  --color-accent-200: #fef08a;
  --color-accent-300: #fde047;
  --color-accent-400: #facc15;
  --color-accent-500: #eab308;
  --color-accent-600: #ca8a04;
  --color-accent-700: #a16207;
  --color-accent-800: #854d0e;
  --color-accent-900: #713f12;

  /* Tertiary: Rose */
  --color-tertiary-300: #fda4af;
  --color-tertiary-400: #fc798a;
  --color-tertiary-500: #f43f5e;
  --color-tertiary-600: #e11d48;

  /* Info: Cyan */
  --color-info-300: #67e8f9;
  --color-info-400: #22d3ee;
  --color-info-500: #06b6d4;
  --color-info-600: #0891b2;

  /* Neutral grays */
  --color-neutral-300: #d1d5db;
  --color-neutral-400: #9ca3af;
  --color-neutral-500: #6b7280;
  --color-neutral-600: #4b5563;

  /* Font families */
  --font-heading:
    'Space Grotesk Variable', ui-sans-serif, -apple-system, BlinkMacSystemFont, 'Segoe UI', roboto,
    sans-serif;
  --font-sans:
    'DM Sans Variable', ui-sans-serif, -apple-system, BlinkMacSystemFont, 'Segoe UI', roboto,
    'Helvetica Neue', sans-serif;

  /* Neo-Memphis hard shadows */
  --shadow-hard-sm: 3px 3px 0 0 #000;
  --shadow-hard: 6px 6px 0 0 #000;
  --shadow-hard-lg: 10px 10px 0 0 #000;
  --shadow-hard-xl: 14px 14px 0 0 #000;
  --shadow-hard-2xl: 18px 18px 0 0 #000;
  --shadow-hard-3xl: 24px 24px 0 0 #000;
  --shadow-hard-purple: 6px 6px 0 0 #a855f7;
  --shadow-hard-purple-lg: 10px 10px 0 0 #a855f7;
  --shadow-hard-purple-xl: 14px 14px 0 0 #a855f7;
  --shadow-hard-yellow: 6px 6px 0 0 #facc15;
  --shadow-hard-yellow-lg: 10px 10px 0 0 #facc15;
  --shadow-hard-white: 6px 6px 0 0 #fff;
  --shadow-hard-white-lg: 10px 10px 0 0 #fff;

  /* Neon glow effects */
  --shadow-glow-purple: 0 0 20px #a855f7, 0 0 40px rgb(168 85 247 / 50%);
  --shadow-glow-purple-sm: 0 0 10px #a855f7, 0 0 20px rgb(168 85 247 / 30%);
  --shadow-glow-purple-lg:
    0 0 30px #a855f7, 0 0 60px rgb(168 85 247 / 50%), 0 0 90px rgb(168 85 247 / 30%);
  --shadow-glow-yellow: 0 0 20px #facc15, 0 0 40px rgb(250 204 21 / 50%);
  --shadow-glow-yellow-sm: 0 0 10px #facc15, 0 0 20px rgb(250 204 21 / 30%);
  --shadow-glow-yellow-lg:
    0 0 30px #facc15, 0 0 60px rgb(250 204 21 / 50%), 0 0 90px rgb(250 204 21 / 30%);

  /* Combined hard + glow */
  --shadow-hard-glow-purple: 6px 6px 0 0 #a855f7, 0 0 25px rgb(168 85 247 / 50%);
  --shadow-hard-glow-purple-lg: 10px 10px 0 0 #a855f7, 0 0 35px rgb(168 85 247 / 50%);
  --shadow-hard-glow-yellow: 6px 6px 0 0 #facc15, 0 0 25px rgb(250 204 21 / 50%);
  --shadow-hard-glow-yellow-lg: 10px 10px 0 0 #facc15, 0 0 35px rgb(250 204 21 / 50%);

  /* Memphis bounce animation timing */
  --ease-memphis: cubic-bezier(0.34, 1.56, 0.64, 1);
}

/* =============================================================================
   DESIGN SYSTEM - NEO-MEMPHIS DARK
   =============================================================================

   A bold, expressive, geometric aesthetic with dark backgrounds
   and vibrant purple/yellow accents.

   CORE PRINCIPLES:
   - Dark backgrounds (#0a0a0a to #1f1f1f)
   - Purple primary (#a855f7) / Yellow accent (#facc15)
   - Hard shadows (no blur, offset)
   - Thick borders (2-3px)
   - Geometric shapes (no soft rounded corners)
   - Bold typography (Space Grotesk headings, DM Sans body)

   ============================================================================= */

@layer base {
  html {
    scroll-behavior: smooth;
  }

  body {
    @apply font-sans text-gray-300 bg-dark-900 antialiased;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    @apply font-heading text-white tracking-tight;
  }

  a {
    @apply transition-all duration-200;
  }

  /* Selection styling */
  ::selection {
    @apply bg-primary-500 text-white;
  }
}

@layer components {
  /* ===================
     LAYOUT
     =================== */
  .container-custom {
    @apply max-w-7xl mx-auto px-4 sm:px-6 lg:px-8;
    position: relative;
    z-index: 2;
  }

  .section-padding {
    @apply py-20 md:py-32 relative bg-dark-900;
  }

  /* ===================
     CARDS - Neo-Memphis style
     =================== */
  /* Detail boxes (for content sections) */
  .detail-box {
    @apply bg-dark-800 border-2 border-dark-600 p-8;
  }

  /* ===================
     SCROLL PREVIEW - Animated thumbnail
     =================== */
  .scroll-preview {
    position: relative;
    width: 100%;
    height: 100%;
    container-type: inline-size;
  }

  .scroll-preview-img {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: auto;
    min-height: 100%;
    transition: transform 4s linear;
  }

  .scroll-preview:hover .scroll-preview-img {
    /* Move image up to show bottom - calculated for ~2:1 aspect ratio images in 16:9 container */
    transform: translateY(calc(-100% + 56.25cqw));
  }

  /* Fallback for browsers without container query support */
  @supports not (width: 1cqw) {
    .scroll-preview:hover .scroll-preview-img {
      transform: translateY(-52%);
    }
  }

  /* ===================
     BUTTONS - Bold Neo-Memphis
     =================== */
  .btn-primary {
    @apply inline-flex items-center justify-center gap-2 px-6 py-3
           bg-primary-400 text-dark-900 font-heading font-semibold
           border-2 border-dark-900 shadow-hard-lg
           hover:bg-primary-300
           active:shadow-hard
           transition-all duration-200;
    transition-timing-function: var(--ease-memphis);
  }

  .btn-primary:hover {
    transform: translateX(-6px) translateY(-6px);
    box-shadow: var(--shadow-hard-xl);
  }

  .btn-primary:active {
    transform: translateX(0) translateY(0);
  }

  .btn-secondary {
    @apply inline-flex items-center justify-center gap-2 px-6 py-3
           bg-dark-700 text-white font-heading font-semibold
           border-2 border-primary-500 shadow-hard-purple-lg
           hover:bg-primary-500 hover:border-primary-400
           active:shadow-hard-purple
           transition-all duration-200;
    transition-timing-function: var(--ease-memphis);
  }

  .btn-secondary:hover {
    transform: translateX(-6px) translateY(-6px);
    box-shadow: var(--shadow-hard-purple-xl);
  }

  .btn-secondary:active {
    transform: translateX(0) translateY(0);
  }

  .btn-accent {
    @apply inline-flex items-center justify-center gap-2 px-6 py-3
           bg-accent-400 text-dark-900 font-heading font-semibold
           border-2 border-dark-900 shadow-hard-lg
           hover:bg-accent-300
           active:shadow-hard
           transition-all duration-200;
    transition-timing-function: var(--ease-memphis);
  }

  .btn-accent:hover {
    transform: translateX(-6px) translateY(-6px);
    box-shadow: var(--shadow-hard-xl);
  }

  .btn-accent:active {
    transform: translateX(0) translateY(0);
  }

  /* ===================
     TAGS - Geometric pills
     =================== */
  .tag-primary {
    @apply inline-flex items-center px-3 py-1 text-xs font-heading font-semibold uppercase tracking-wide
           bg-primary-500/20 text-primary-300 border border-primary-500/50;
  }

  .tag-accent {
    @apply inline-flex items-center px-3 py-1 text-xs font-heading font-semibold uppercase tracking-wide
           bg-accent-400/20 text-accent-300 border border-accent-400/50;
  }

  .tag-gray {
    @apply inline-flex items-center px-3 py-1 text-xs font-heading font-semibold uppercase tracking-wide
           bg-dark-600 text-gray-300 border border-dark-500;
  }

  .tag-secondary {
    @apply inline-flex items-center px-3 py-1 text-xs font-heading font-semibold uppercase tracking-wide
           bg-primary-600/20 text-primary-300 border border-primary-600/30;
  }

  .tag-tertiary {
    @apply inline-flex items-center px-3 py-1 text-xs font-heading font-semibold uppercase tracking-wide
           bg-tertiary-500/20 text-tertiary-400 border border-tertiary-500/30;
  }

  /* ===================
     SECTION BACKGROUNDS
     =================== */
  .section-hero {
    @apply bg-dark-900;
  }

  .section-alt {
    @apply bg-dark-800;
    z-index: 2;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='250' height='250'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.35' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.10'/%3E%3C/svg%3E");
  }

  .section-cta {
    @apply bg-primary-800;
    z-index: 2;
  }

  /* ===================
     ICON CONTAINERS
     =================== */
  .icon-box {
    @apply w-12 h-12 flex items-center justify-center shrink-0
           bg-dark-700 border-2 border-primary-500;
  }

  .icon-box-sm {
    @apply w-10 h-10 flex items-center justify-center shrink-0
           bg-dark-700 border-2 border-primary-500;
  }

  .icon-box-lg {
    @apply w-16 h-16 flex items-center justify-center shrink-0
           bg-dark-700 border-2 border-primary-500;
  }

  /* ===================
     SECTION HEADERS - BOLD MEMPHIS
     =================== */
  .section-header {
    @apply text-center mb-20;
  }

  .section-title {
    @apply text-4xl md:text-5xl lg:text-6xl font-heading font-bold text-white mb-6 tracking-tight;
  }

  .section-subtitle {
    @apply text-gray-400 max-w-2xl mx-auto text-xl md:text-2xl leading-relaxed;
  }

  /* ===================
     PAGE HEADERS - EXTRA BOLD
     =================== */
  .page-title {
    @apply text-5xl md:text-7xl lg:text-8xl font-heading font-bold text-white mb-10 tracking-tight leading-none;
  }

  .page-subtitle {
    @apply text-xl md:text-2xl text-gray-400 max-w-3xl mx-auto leading-relaxed;
  }

  /* ===================
     CONTENT SECTIONS
     =================== */
  .content-section-header {
    @apply flex items-center gap-6 mb-8;
  }

  .content-section-title {
    @apply text-2xl md:text-3xl font-heading font-bold text-white tracking-tight;
  }

  /* ===================
     FORM ELEMENTS
     =================== */
  .form-input {
    @apply w-full px-4 py-3 bg-dark-800 text-white
           border-2 border-dark-600
           focus:border-primary-500 focus:ring-0 focus:outline-none
           placeholder:text-gray-500
           transition-colors;
  }

  .form-select {
    @apply w-full px-4 py-3 bg-dark-800 text-white
           border-2 border-dark-600
           focus:border-primary-500 focus:ring-0 focus:outline-none
           transition-colors;
  }

  .form-textarea {
    @apply w-full px-4 py-3 bg-dark-800 text-white
           border-2 border-dark-600
           focus:border-primary-500 focus:ring-0 focus:outline-none
           placeholder:text-gray-500
           resize-none transition-colors;
  }

  /* ===================
     ALERT/PLACEHOLDER
     =================== */
  .alert-placeholder {
    @apply bg-accent-400/10 border-2 border-accent-400/50 p-4 text-accent-300 text-sm text-center max-w-2xl mx-auto;
  }

  /* ===================
     TIMELINE ELEMENTS
     =================== */
  .timeline-dot-lg {
    @apply w-16 h-16 flex items-center justify-center
           bg-dark-800 border-primary-500;
    border-width: 3px;
  }

  /* ===================
     PROFILE AVATARS
     =================== */
  .profile-avatar {
    @apply w-12 h-12 overflow-hidden bg-dark-700 border-2 border-primary-500;
  }

  .profile-avatar-xl {
    @apply w-20 h-20 overflow-hidden bg-dark-700 border-2 border-primary-500;
  }

  /* ===================
     BUTTON ICON
     =================== */
  .btn-icon {
    @apply p-2 text-gray-400 hover:text-white hover:bg-dark-700 transition-colors;
  }
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }
}

/* ===================
   SKILL LEVEL BAR
   =================== */
.skill-level {
  @apply h-3 bg-dark-700 overflow-hidden border border-dark-600;
}

/* ===================
   LINK WITH ARROW
   =================== */
.link-arrow {
  @apply flex items-center gap-1 text-sm font-heading font-semibold text-primary-400 hover:text-primary-300 transition-colors;
}

.link-arrow svg {
  @apply w-4 h-4 transition-transform duration-200;
}

.link-arrow:hover svg {
  transform: translateX(4px);
}

/* ===================
   SCROLLBAR STYLING
   =================== */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  @apply bg-dark-900;
}

::-webkit-scrollbar-thumb {
  @apply bg-dark-600 hover:bg-dark-500;
}

/* ===================
   FOCUS STYLES
   =================== */
:focus-visible {
  @apply outline-2 outline-offset-2 outline-primary-500;
}

/* ===================
   REDUCED MOTION
   =================== */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }

  html {
    scroll-behavior: auto;
  }

  /* Ensure GSAP-animated content is visible */
  [data-gsap],
  [data-gsap='stagger'] > *,
  [data-gsap='hero'] > *,
  [data-gsap='timeline-item'] .timeline-dot-lg,
  [data-gsap='timeline-item'] .card-glow,
  [data-gsap='timeline-line'] {
    opacity: 1 !important;
    transform: none !important;
  }

  /* Static gradient text */
  .gradient-text-animated {
    background-position: 0% center !important;
  }
}

/* =============================================================================
   ENHANCED NEO-MEMPHIS EFFECTS
   ============================================================================= */

/* ===================
   1. ANIMATED GRADIENT TEXT
   =================== */
.gradient-text-animated {
  @apply text-transparent bg-clip-text font-bold;
  background-image: linear-gradient(90deg, #a855f7, #c084fc, #facc15, #fde047, #a855f7);
  background-size: 200% auto;
  animation: gradient-shift 4s ease-in-out infinite;
}

@keyframes gradient-shift {
  0%,
  100% {
    background-position: 0% center;
  }
  50% {
    background-position: 100% center;
  }
}

/* ===================
   2. CARD LIFT EFFECT (Memphis-style)
   =================== */
.card-glow {
  @apply bg-dark-800 border-2 border-dark-600 shadow-hard transition-all duration-300;
}

.card-glow:hover {
  @apply border-primary-500 shadow-hard-glow-purple;
  transform: translateX(-4px) translateY(-4px);
}

/* ===================
   3. SKILL BARS ANIMATED
   =================== */
.skill-level-animated {
  @apply h-3 bg-dark-700 overflow-hidden border border-dark-600;
}

.skill-level-animated .skill-fill {
  @apply h-full;
  background: linear-gradient(90deg, #a855f7 0%, #c084fc 50%, #facc15 100%);
  background-size: 200% 100%;
  animation: skill-shimmer 2s ease-in-out infinite;
  transform-origin: left;
  transition: width 1s ease-out;
}

@keyframes skill-shimmer {
  0%,
  100% {
    background-position: 0% center;
  }
  50% {
    background-position: 100% center;
  }
}

/* ===================
   BOLD MEMPHIS DECORATIONS
   =================== */

/* Decorative underlines - Memphis style */
.underline-memphis {
  position: relative;
  display: inline-block;
}

.underline-memphis::after {
  content: '';
  position: absolute;
  left: 0;
  bottom: -4px;
  width: 100%;
  height: 4px;
  background: #a855f7;
}

.underline-memphis-accent::after {
  background: #facc15;
}

/* Zigzag underline - pure Memphis */
.underline-zigzag {
  position: relative;
  display: inline-block;
}

.underline-zigzag::after {
  content: '';
  position: absolute;
  left: 0;
  bottom: -8px;
  width: 100%;
  height: 6px;
  background:
    linear-gradient(135deg, #a855f7 25%, transparent 25%),
    linear-gradient(225deg, #a855f7 25%, transparent 25%),
    linear-gradient(45deg, #a855f7 25%, transparent 25%),
    linear-gradient(315deg, #a855f7 25%, transparent 25%);
  background-size: 8px 8px;
  background-position:
    0 0,
    4px 0,
    4px -4px,
    0 4px;
}

.underline-zigzag-accent::after {
  background:
    linear-gradient(135deg, #facc15 25%, transparent 25%),
    linear-gradient(225deg, #facc15 25%, transparent 25%),
    linear-gradient(45deg, #facc15 25%, transparent 25%),
    linear-gradient(315deg, #facc15 25%, transparent 25%);
  background-size: 8px 8px;
  background-position:
    0 0,
    4px 0,
    4px -4px,
    0 4px;
}

/* Squiggle/wave decoration */
.squiggle {
  position: relative;
}

.squiggle::after {
  content: '';
  position: absolute;
  left: 0;
  bottom: -10px;
  width: 100%;
  height: 8px;
  background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 4'%3E%3Cpath d='M0 2 Q 2.5 0, 5 2 T 10 2 T 15 2 T 20 2' stroke='%23a855f7' fill='none' stroke-width='2'/%3E%3C/svg%3E")
    repeat-x;
}

.squiggle-accent::after {
  background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 4'%3E%3Cpath d='M0 2 Q 2.5 0, 5 2 T 10 2 T 15 2 T 20 2' stroke='%23facc15' fill='none' stroke-width='2'/%3E%3C/svg%3E")
    repeat-x;
}

/* Highlight marker effect */
.highlight-marker {
  position: relative;
  display: inline;
}

.highlight-marker::before {
  content: '';
  position: absolute;
  left: -4px;
  right: -4px;
  bottom: 0;
  height: 40%;
  background: #a855f7;
  opacity: 0.3;
  z-index: -1;
  transform: skewX(-3deg);
}

.highlight-marker-accent::before {
  background: #facc15;
}

/* Big bold stats - Memphis style */
.stat-large {
  @apply text-6xl md:text-7xl font-heading font-black tracking-tight leading-none;
}

.stat-medium {
  @apply text-5xl md:text-6xl font-heading font-bold tracking-tight leading-none;
}

/* Chunky buttons - more Memphis impact */
.btn-chunky {
  @apply inline-flex items-center justify-center gap-3 px-8 py-4 text-lg
         font-heading font-bold uppercase tracking-wide
         shadow-hard-xl
         transition-all duration-200;
  border-width: 3px;
  transition-timing-function: var(--ease-memphis);
}

.btn-chunky:hover {
  transform: translateX(-8px) translateY(-8px);
  box-shadow: var(--shadow-hard-2xl);
}

.btn-chunky:active {
  transform: translateX(0) translateY(0);
  box-shadow: var(--shadow-hard-lg);
}

.btn-chunky-primary {
  @apply inline-flex items-center justify-center gap-3 px-8 py-4 text-lg
         font-heading font-bold uppercase tracking-wide
         shadow-hard-xl transition-all duration-200
         bg-primary-400 text-dark-900 border-dark-900
         hover:bg-primary-300;
  border-width: 3px;
  transition-timing-function: var(--ease-memphis);
}

.btn-chunky-primary:hover {
  transform: translateX(-8px) translateY(-8px);
  box-shadow: var(--shadow-hard-2xl);
}

.btn-chunky-primary:active {
  transform: translateX(0) translateY(0);
  box-shadow: var(--shadow-hard-lg);
}

.btn-chunky-accent {
  @apply inline-flex items-center justify-center gap-3 px-8 py-4 text-lg
         font-heading font-bold uppercase tracking-wide
         shadow-hard-xl transition-all duration-200
         bg-accent-400 text-dark-900 border-dark-900
         hover:bg-accent-300;
  border-width: 3px;
  transition-timing-function: var(--ease-memphis);
}

.btn-chunky-accent:hover {
  transform: translateX(-8px) translateY(-8px);
  box-shadow: var(--shadow-hard-2xl);
}

.btn-chunky-accent:active {
  transform: translateX(0) translateY(0);
  box-shadow: var(--shadow-hard-lg);
}

/* Bold section divider */
.section-divider {
  @apply w-24 h-2 bg-primary-500 mx-auto my-8;
}

.section-divider-accent {
  @apply bg-accent-400;
}

.section-divider-long {
  @apply w-48;
}

/* =============================================================================
   MEMPHIS FOREGROUND SHAPES
   ============================================================================= */

/* Container - covers entire main content area */
.memphis-shapes-fg {
  position: absolute;
  inset: 0;
  pointer-events: none;
  overflow: hidden;
  z-index: 1;
}

/* Base shape */
.memphis-shape-fg {
  position: absolute;
  will-change: transform;
}

/* --- Shape types --- */

/* Filled circle */
.fg-dot {
  width: var(--fg-s);
  height: var(--fg-s);
  border-radius: 50%;
  background: var(--fg-c);
}

/* Hollow ring */
.fg-ring {
  width: var(--fg-s);
  height: var(--fg-s);
  border-radius: 50%;
  border: var(--fg-bw, 4px) solid var(--fg-c);
}

/* Filled square */
.fg-square-fill {
  width: var(--fg-s);
  height: var(--fg-s);
  background: var(--fg-c);
}

/* Horizontal dash */
.fg-dash {
  width: var(--fg-s);
  height: var(--fg-h, 8px);
  background: var(--fg-c);
  border-radius: 4px;
}

/* Cross (+) shape */
.fg-cross {
  position: absolute;
  width: var(--fg-s);
  height: var(--fg-s);
}

.fg-cross span:first-child {
  position: absolute;
  top: 50%;
  left: 15%;
  right: 15%;
  height: 5px;
  background: var(--fg-c);
  transform: translateY(-50%);
  border-radius: 2px;
}

.fg-cross span:last-child {
  position: absolute;
  left: 50%;
  top: 15%;
  bottom: 15%;
  width: 5px;
  background: var(--fg-c);
  transform: translateX(-50%);
  border-radius: 2px;
}

/* Triangle (CSS borders) */
.fg-triangle {
  width: 0;
  height: 0;
  border-left: calc(var(--fg-s) / 2) solid transparent;
  border-right: calc(var(--fg-s) / 2) solid transparent;
  border-bottom: calc(var(--fg-s) * 0.866) solid var(--fg-c);
}

/* Semicircle */
.fg-semicircle {
  width: var(--fg-s);
  height: calc(var(--fg-s) / 2);
  background: var(--fg-c);
  border-radius: calc(var(--fg-s) / 2) calc(var(--fg-s) / 2) 0 0;
}

/* Diamond (rotated square) */
.fg-diamond {
  width: var(--fg-s);
  height: var(--fg-s);
  background: var(--fg-c);
  transform: rotate(45deg);
}

/* SVG shape containers */
.fg-wave,
.fg-zigzag,
.fg-squiggle,
.fg-star,
.fg-star-fill,
.fg-spiral,
.fg-hexagon-fill,
.fg-crescent {
  color: var(--fg-c);
  line-height: 0;
}

/* Capsule / rounded rectangle */
.fg-pill {
  width: var(--fg-s);
  height: var(--fg-h, 40px);
  background: var(--fg-c);
  border-radius: 9999px;
}

/* Ellipse / oval */
.fg-ellipse {
  width: var(--fg-s);
  height: calc(var(--fg-s) * 0.55);
  border-radius: 50%;
  background: var(--fg-c);
}

/* Filled quarter circle (pie slice) */
.fg-arc-fill {
  width: var(--fg-s);
  height: var(--fg-s);
  background: var(--fg-c);
  border-radius: var(--fg-s) 0 0 0;
}

/* --- Fill patterns (CSS shapes) --- */

.fg-pattern-stripes {
  background: repeating-linear-gradient(
    45deg,
    var(--fg-c),
    var(--fg-c) 4px,
    transparent 4px,
    transparent 12px
  ) !important;
}

.fg-pattern-hstripes {
  background: repeating-linear-gradient(
    0deg,
    var(--fg-c),
    var(--fg-c) 3px,
    transparent 3px,
    transparent 10px
  ) !important;
}

.fg-pattern-dots {
  background:
    radial-gradient(circle 2.5px at 6px 6px, var(--fg-c) 100%, transparent 100%),
    radial-gradient(circle 2.5px at 14px 14px, var(--fg-c) 100%, transparent 100%) !important;
  background-size: 16px 16px !important;
}

.fg-pattern-crosshatch {
  background:
    repeating-linear-gradient(
      45deg,
      var(--fg-c),
      var(--fg-c) 2px,
      transparent 2px,
      transparent 10px
    ),
    repeating-linear-gradient(
      -45deg,
      var(--fg-c),
      var(--fg-c) 2px,
      transparent 2px,
      transparent 10px
    ) !important;
}

/* --- Animations --- */

/* Gentle vertical float */
@keyframes memphis-float {
  0%,
  100% {
    transform: rotate(var(--fg-rot, 0deg)) translateY(0);
  }
  50% {
    transform: rotate(var(--fg-rot, 0deg)) translateY(-18px);
  }
}

/* Tilting rock */
@keyframes memphis-rock {
  0%,
  100% {
    transform: rotate(calc(var(--fg-rot, 0deg) + 0deg));
  }
  25% {
    transform: rotate(calc(var(--fg-rot, 0deg) + 8deg));
  }
  75% {
    transform: rotate(calc(var(--fg-rot, 0deg) - 8deg));
  }
}

/* Slow continuous spin */
@keyframes memphis-spin {
  from {
    transform: rotate(var(--fg-rot, 0deg));
  }
  to {
    transform: rotate(calc(var(--fg-rot, 0deg) + 360deg));
  }
}

/* Rhythmic pulse */
@keyframes memphis-pulse {
  0%,
  100% {
    transform: rotate(var(--fg-rot, 0deg)) scale(1);
  }
  50% {
    transform: rotate(var(--fg-rot, 0deg)) scale(1.2);
  }
}

/* Horizontal sway */
@keyframes memphis-sway {
  0%,
  100% {
    transform: rotate(var(--fg-rot, 0deg)) translateX(0);
  }
  50% {
    transform: rotate(var(--fg-rot, 0deg)) translateX(14px);
  }
}

/* Stretch width */
@keyframes memphis-stretch {
  0%,
  100% {
    transform: rotate(var(--fg-rot, 0deg)) scaleX(1);
  }
  50% {
    transform: rotate(var(--fg-rot, 0deg)) scaleX(1.15);
  }
}

/* Diamond needs special handling (already rotated 45deg) */
@keyframes memphis-spin-diamond {
  from {
    transform: rotate(45deg);
  }
  to {
    transform: rotate(405deg);
  }
}

@keyframes memphis-rock-diamond {
  0%,
  100% {
    transform: rotate(45deg);
  }
  25% {
    transform: rotate(53deg);
  }
  75% {
    transform: rotate(37deg);
  }
}

@keyframes memphis-float-diamond {
  0%,
  100% {
    transform: rotate(45deg) translateY(0);
  }
  50% {
    transform: rotate(45deg) translateY(-18px);
  }
}

@keyframes memphis-pulse-diamond {
  0%,
  100% {
    transform: rotate(45deg) scale(1);
  }
  50% {
    transform: rotate(45deg) scale(1.2);
  }
}

@keyframes memphis-sway-diamond {
  0%,
  100% {
    transform: rotate(45deg) translateX(0);
  }
  50% {
    transform: rotate(45deg) translateX(14px);
  }
}

@keyframes memphis-stretch-diamond {
  0%,
  100% {
    transform: rotate(45deg) scaleX(1);
  }
  50% {
    transform: rotate(45deg) scaleX(1.15);
  }
}

/* Apply animations via data attribute */
[data-fg-anim='float'] {
  animation: memphis-float 6s ease-in-out infinite;
}
[data-fg-anim='rock'] {
  animation: memphis-rock 5s ease-in-out infinite;
}
[data-fg-anim='spin'] {
  animation: memphis-spin 20s linear infinite;
}
[data-fg-anim='pulse'] {
  animation: memphis-pulse 4s ease-in-out infinite;
}
[data-fg-anim='sway'] {
  animation: memphis-sway 7s ease-in-out infinite;
}
[data-fg-anim='stretch'] {
  animation: memphis-stretch 5s ease-in-out infinite;
}

/* Diamond overrides (preserve base 45deg rotation) */
.fg-diamond[data-fg-anim='spin'] {
  animation-name: memphis-spin-diamond;
}
.fg-diamond[data-fg-anim='rock'] {
  animation-name: memphis-rock-diamond;
}
.fg-diamond[data-fg-anim='float'] {
  animation-name: memphis-float-diamond;
}
.fg-diamond[data-fg-anim='pulse'] {
  animation-name: memphis-pulse-diamond;
}
.fg-diamond[data-fg-anim='sway'] {
  animation-name: memphis-sway-diamond;
}
.fg-diamond[data-fg-anim='stretch'] {
  animation-name: memphis-stretch-diamond;
}

/* Stagger animation delays for variety */
.memphis-shape-fg:nth-child(2n) {
  animation-delay: -1.5s;
}
.memphis-shape-fg:nth-child(3n) {
  animation-delay: -3s;
}
.memphis-shape-fg:nth-child(5n) {
  animation-delay: -4.5s;
}
.memphis-shape-fg:nth-child(7n) {
  animation-delay: -2s;
}
.memphis-shape-fg:nth-child(11n) {
  animation-delay: -5s;
}
.memphis-shape-fg:nth-child(4n + 1) {
  animation-duration: 7s;
}
.memphis-shape-fg:nth-child(6n + 2) {
  animation-duration: 8s;
}
.memphis-shape-fg:nth-child(9n + 3) {
  animation-duration: 5.5s;
}

/* Hide on very small screens to avoid clutter */
@media (width <= 640px) {
  .memphis-shapes-fg {
    display: none;
  }
}

/* ===================
   PERFORMANCE OPTIMIZATIONS
   =================== */

/* Content visibility for below-fold sections - improves initial render */
.section-lazy {
  content-visibility: auto;
  contain-intrinsic-size: auto 500px;
}

/* Disable content-visibility on sections with GSAP animations
   content-visibility: auto skips rendering of off-screen content,
   which breaks ScrollTrigger position calculations */
.section-lazy:has([data-gsap]) {
  content-visibility: visible;
}
